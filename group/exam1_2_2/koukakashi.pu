@startuml kouka_robustness
actor 利用者
boundary カウンター
control 貸出管理
entity 図書
entity 会員
entity 予約

利用者 -> カウンター : 本・会員証を持参
カウンター -> 貸出管理 : 貸出依頼
貸出管理 -> 図書 : 貸出可否確認
貸出管理 -> 会員 : 貸出上限・制約確認
貸出管理 --> カウンター : 貸出結果
カウンター --> 利用者 : 貸出通知

利用者 -> カウンター : 返却本持参
カウンター -> 貸出管理 : 返却依頼
貸出管理 -> 図書 : 返却処理
貸出管理 -> 予約 : 予約者確認
貸出管理 -> 会員 : 予約者へ通知
貸出管理 --> カウンター : 返却結果
カウンター --> 利用者 : 返却通知
@enduml
